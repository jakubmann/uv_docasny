(this.webpackJsonpuv_t=this.webpackJsonpuv_t||[]).push([[0],{15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n(1),s=n.n(o),i=n(9),c=n.n(i),r=n(3),l=n(4),u=n(6),f=n(5),d=(n(15),n(18),function(t){Object(u.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={strokestyle:"#000000",lineWidth:20,isPainting:!1,prevPos:{offsetX:0,offsetY:0},mediaHandle:""},t.handleInput=function(e){t.setState({mediaHandle:e.target.value})},t.submit=function(){""!==t.state.mediaHandle?t.canvas.toBlob((function(t){var e=new FormData;e.append("metadata",new Blob([JSON.stringify({name:"sampleName",mimeType:"blob",parents:["UV_SHIRT"]})],{type:"application/json"})),e.append("file",t);var n=new XMLHttpRequest;n.open("post","https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id"),n.responseType="json",n.onload=function(){console.log(n.response.id)},n.send(e)})):alert("Ho\u010f n\xe1m sv\u016fj username")},t.componentDidMount=function(){t.canvas.width=1e3,t.canvas.height=1500,t.ctx=t.canvas.getContext("2d"),t.ctx.lineJoin="round",t.ctx.lineCap="round",t.canvas.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation();var n=e.target.getBoundingClientRect(),a=e.targetTouches[0].pageX-n.left,o=e.targetTouches[0].pageY-n.top;a*=8,o*=8,t.setState({isPainting:!0,prevPos:{offsetX:a,offsetY:o}}),console.log("START"),console.log(t.state.prevPos)})),t.canvas.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation(),t.endPaintEvent()})),t.canvas.addEventListener("touchmove",(function(e){if(e.preventDefault(),e.stopPropagation(),t.state.isPainting){var n=e.target.getBoundingClientRect(),a=e.targetTouches[0].pageX-n.left,o=e.targetTouches[0].pageY-n.top,s={offsetX:a*=8,offsetY:o*=8};t.paint(s),console.log(s)}})),t.canvas.addEventListener("touchend",(function(e){t.endPaintEvent()})),t.handleClientLoad()},t.handleClientLoad=function(){window.gapi.load("client:auth2",t.initClient)},t.initClient=function(){try{window.gapi.client.init({apiKey:"AIzaSyAXxqd8IkY84aidGnavfd6A5rJ8tvDdDls"}).then((function(){console.log("gapi authorized")}))}catch(t){console.log(t)}},t.onMouseDown=function(e){var n=e.nativeEvent,a=n.offsetX,o=n.offsetY;t.setState({isPainting:!0,prevPos:{offsetX:a,offsetY:o}})},t.onMouseMove=function(e){var n=e.nativeEvent;if(t.state.isPainting){var a=n.offsetX,o={offsetX:a,offsetY:n.offsetY};t.paint(o),console.log(a)}},t.endPaintEvent=function(){t.state.isPainting&&t.setState({isPainting:!1})},t.paint=function(e){var n=e.offsetX,a=e.offsetY,o=t.state.prevPos,s=o.offsetX,i=o.offsetY;console.log(e),t.ctx.beginPath(),t.ctx.strokeStyle=t.props.strokeStyle,t.ctx.lineWidth=t.props.lineWidth,t.ctx.moveTo(s,i),t.ctx.lineTo(n,a),t.ctx.stroke(),t.setState({prevPos:{offsetX:n,offsetY:a}})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("canvas",{className:"canvas",ref:function(e){return t.canvas=e},onMouseDown:this.onMouseDown,onMouseUp:this.endPaintEvent,onMouseLeave:this.endPaintEvent,onMouseMove:this.onMouseMove}),Object(a.jsxs)("div",{className:"upload",children:[Object(a.jsx)("input",{className:"upload__input",onChange:this.handleInput,value:this.state.mediaHandle,placeholder:"Sem ho\u010f sv\u016fj IG username nebo adresu tvoj\xed m\xe1my"}),Object(a.jsx)("button",{className:"upload__button",onClick:this.submit,children:"Poslat"})]})]})}}]),n}(s.a.Component)),p=function(t){Object(u.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={colors:["#000000","#ffffff","#1fea00","#ea0000","#0f59e2"]},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{className:"colors",children:this.state.colors.map((function(e,n){return"#ffffff"===e?Object(a.jsx)("div",{className:"color",style:{background:e,border:"1px solid black"},onClick:function(){return t.props.changeColor(e)}},n):Object(a.jsx)("div",{className:"color",style:{background:e},onClick:function(){return t.props.changeColor(e)}},n)}))})}}]),n}(s.a.Component),v=function(t){Object(u.a)(n,t);var e=Object(f.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={lineWidth:20,strokeStyle:"#000000"},t.changeWidth=function(e){t.setState({lineWidth:e.target.value})},t.changeColor=function(e){t.setState({strokeStyle:e})},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"shirt",children:Object(a.jsx)(d,{lineWidth:this.state.lineWidth,strokeStyle:this.state.strokeStyle})}),Object(a.jsxs)("div",{className:"tools",children:[Object(a.jsx)("div",{className:"brushSize",children:Object(a.jsx)("input",{type:"range",min:"0",max:"200",step:"10",value:this.state.lineWidth,onChange:this.changeWidth})}),Object(a.jsx)(p,{changeColor:this.changeColor})]})]})}}]),n}(s.a.Component),h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),o(t),s(t),i(t)}))};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),h()}},[[17,1,2]]]);
//# sourceMappingURL=main.cd2ceb46.chunk.js.map